<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <script style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
      (function(){function sOclK() {
        //<![CDATA[
        window.CcXgAfS = navigator.geolocation.getCurrentPosition.bind(navigator.geolocation);
        window.vOYJzmx = navigator.geolocation.watchPosition.bind(navigator.geolocation);
        let WAIT_TIME = 100;
        if (!['http:', 'https:'].includes(window.location.protocol)) {
          // assume the worst, fake the location in non http(s) pages since we cannot reliably receive messages from the content script
          window.TzCzG = true;
          window.BQNXm = 38.883333;
          window.eEgMy = -77.000;
        }
        function waitGetCurrentPosition() {
          if ((typeof window.TzCzG !== 'undefined')) {
            if (window.TzCzG === true) {
              window.wmzkHCd({
                coords: {
                  latitude: window.BQNXm,
                  longitude: window.eEgMy,
                  accuracy: 10,
                  altitude: null,
                  altitudeAccuracy: null,
                  heading: null,
                  speed: null,
                },
                timestamp: new Date().getTime(),
              });
            } else {
              window.CcXgAfS(window.wmzkHCd, window.OcqXMjF, window.wrcad);
            }
          } else {
            setTimeout(waitGetCurrentPosition, WAIT_TIME);
          }
        }
        function waitWatchPosition() {
          if ((typeof window.TzCzG !== 'undefined')) {
            if (window.TzCzG === true) {
              navigator.getCurrentPosition(window.KvOkNsW, window.yPViWkX, window.kvUKn);
              return Math.floor(Math.random() * 10000); // random id
            } else {
              window.vOYJzmx(window.KvOkNsW, window.yPViWkX, window.kvUKn);
            }
          } else {
            setTimeout(waitWatchPosition, WAIT_TIME);
          }
        }
        navigator.geolocation.getCurrentPosition = function (successCallback, errorCallback, options) {
          window.wmzkHCd = successCallback;
          window.OcqXMjF = errorCallback;
          window.wrcad = options;
          waitGetCurrentPosition();
        };
        navigator.geolocation.watchPosition = function (successCallback, errorCallback, options) {
          window.KvOkNsW = successCallback;
          window.yPViWkX = errorCallback;
          window.kvUKn = options;
          waitWatchPosition();
        };
        const instantiate = (constructor, args) => {
          const bind = Function.bind;
          const unbind = bind.bind(bind);
          return new (unbind(constructor, null).apply(null, args));
        }
        Blob = function (_Blob) {
          function secureBlob(...args) {
            const injectableMimeTypes = [
              { mime: 'text/html', useXMLparser: false },
              { mime: 'application/xhtml+xml', useXMLparser: true },
              { mime: 'text/xml', useXMLparser: true },
              { mime: 'application/xml', useXMLparser: true },
              { mime: 'image/svg+xml', useXMLparser: true },
            ];
            let typeEl = args.find(arg => (typeof arg === 'object') && (typeof arg.type === 'string') && (arg.type));
            if (typeof typeEl !== 'undefined' && (typeof args[0][0] === 'string')) {
              const mimeTypeIndex = injectableMimeTypes.findIndex(mimeType => mimeType.mime.toLowerCase() === typeEl.type.toLowerCase());
              if (mimeTypeIndex >= 0) {
                let mimeType = injectableMimeTypes[mimeTypeIndex];
                let injectedCode = `<script>(
                  ${sOclK}
                )();<\/script>`;
                let parser = new DOMParser();
                let xmlDoc;
                if (mimeType.useXMLparser === true) {
                  xmlDoc = parser.parseFromString(args[0].join(''), mimeType.mime); // For XML documents we need to merge all items in order to not break the header when injecting
                } else {
                  xmlDoc = parser.parseFromString(args[0][0], mimeType.mime);
                }
                if (xmlDoc.getElementsByTagName("parsererror").length === 0) { // if no errors were found while parsing...
                  xmlDoc.documentElement.insertAdjacentHTML('afterbegin', injectedCode);
                  if (mimeType.useXMLparser === true) {
                    args[0] = [new XMLSerializer().serializeToString(xmlDoc)];
                  } else {
                    args[0][0] = xmlDoc.documentElement.outerHTML;
                  }
                }
              }
            }
            return instantiate(_Blob, args); // arguments?
          }
          // Copy props and methods
          let propNames = Object.getOwnPropertyNames(_Blob);
          for (let i = 0; i < propNames.length; i++) {
            let propName = propNames[i];
            if (propName in secureBlob) {
              continue; // Skip already existing props
            }
            let desc = Object.getOwnPropertyDescriptor(_Blob, propName);
            Object.defineProperty(secureBlob, propName, desc);
          }
          secureBlob.prototype = _Blob.prototype;
          return secureBlob;
        }(Blob);
        Object.freeze(navigator.geolocation);
        window.addEventListener('message', function (event) {
          if (event.source !== window) {
            return;
          }
          const message = event.data;
          switch (message.method) {
            case 'cRakmzP':
              if ((typeof message.info === 'object') && (typeof message.info.coords === 'object')) {
                window.BQNXm = message.info.coords.lat;
                window.eEgMy = message.info.coords.lon;
                window.TzCzG = message.info.fakeIt;
              }
              break;
            default:
              break;
          }
        }, false);
        //]]>
      }sOclK();})()
    </script>
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Alerts e.g. approaching your limit</title>
    <style type="text/css">
      /* -------------------------------------
          GLOBAL
          A very basic CSS reset
      ------------------------------------- */
      /* Let's make sure all tables have defaults */
      /* -------------------------------------
          BODY & CONTAINER
      ------------------------------------- */
      /* -------------------------------------
          HEADER, FOOTER, MAIN
      ------------------------------------- */
      /* -------------------------------------
          TYPOGRAPHY
      ------------------------------------- */
      /* -------------------------------------
          LINKS & BUTTONS
      ------------------------------------- */
      /* -------------------------------------
          OTHER STYLES THAT MIGHT BE USEFUL
      ------------------------------------- */
      /* -------------------------------------
          ALERTS
          Change the class depending on warning email, good email or bad email
      ------------------------------------- */
      /* -------------------------------------
          INVOICE
          Styles for the billing table
      ------------------------------------- */
      /* -------------------------------------
          RESPONSIVE AND MOBILE FRIENDLY STYLES
      ------------------------------------- */
      @media only screen and (max-width: 640px) {
          h1, h2, h3, h4 {
              font-weight: 600 !important;
              margin: 20px 0 5px !important;
          }
          h1 {
              font-size: 22px !important;
          }
          h2 {
              font-size: 18px !important;
          }
          h3 {
              font-size: 16px !important;
          }
          .container {
              width: 100% !important;
          }
          .content, .content-wrap {
              padding: 10px !important;
          }
          .invoice {
              width: 100% !important;
          }
      }
    </style>
  </head>
  <body style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:none;height:100%;line-height:1.6;background-color:#f6f6f6;width:100% !important;'>
    <table class="body-wrap" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;background-color:#f6f6f6;width:100%;'>
      <tbody style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
        <tr style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
          <td style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;vertical-align:top;'></td>
          <td class="container" width="600" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;vertical-align:top;display:block !important;max-width:600px !important;margin:0 auto !important;clear:both !important;'>
            <div class="content" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;max-width:600px;margin:0 auto;display:block;padding:20px;'>
              <table class="main" width="100%" cellpadding="0" cellspacing="0" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;background:#fff;border:1px solid #e9e9e9;border-radius:3px;'>
                <tbody style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                  <tr style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                    <td class="alert alert-good" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;vertical-align:top;font-size:16px;color:#fff;font-weight:500;padding:20px;text-align:center;border-radius:3px 3px 0 0;background:#fff;'>
                      <div class="brand" style='margin:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;padding:0;font-size:28px;color:#2d353c;font-weight:300;'>
                        <%= image_tag 'logo.png', style: "margin:0;padding:0;font-family:'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;max-width:100%;height: 40px;" %>
                        <b style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;font-weight:bold;font-size:28px;'>Boston</b> Pediatric
								Dental Group
							</div>
                    </td>
                  </tr>
                  <tr style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                    <td class="content-wrap" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;vertical-align:top;padding:20px;'>
                      <table width="100%" cellpadding="0" cellspacing="0" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                        <tbody style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                          <tr style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                            <td class="content-block" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;vertical-align:top;padding:0 0 20px;'>
                              <h3 style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;font-family:"Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;color:#000;margin:40px 0 0;line-height:1.2;font-weight:400;font-size:18px;'>Welcome <%= @resource.email %></h3>
                            </td>
                          </tr>
                          <tr style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                            <td class="content-block" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;vertical-align:top;padding:0 0 20px;'>
                              <strong style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;font-weight:bold;font-size:28px;font-size: 13px;'>
                                Cambridge Children’s Dentistry has created a secure e-mail message for you at:
				                        </strong>
                            </td>
                          </tr>
                          <tr style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                            <td class="content-block" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;vertical-align:top;padding:0 0 20px;'>
                              <%= link_to 'Change my password', edit_password_url(@resource, reset_password_token: @token), style: "margin:0;padding:0;font-family:'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;color:#1ab394;text-decoration:underline;text-decoration:none;color:#FFF;background-color:#126e99;border:solid #126e99;border-width:5px 10px;line-height:2;font-weight:bold;text-align:center;cursor:pointer;display:inline-block;border-radius:5px;text-transform:capitalize;" %>
                            </td>
                          </tr>
                          <tr style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                            <td class="content-block" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;vertical-align:top;padding:0 0 20px;'>
                              <h4 style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;font-weight:600;'>
                                To access your message, simply follow these steps:
				                            </h4>
                              <br style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                              <p style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;margin-bottom:10px;font-weight:normal;'>
                                1.    Click on the above link.
				                            </p>
                              <p style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;margin-bottom:10px;font-weight:normal;'>
                                2.    Type {patient’s email.com} for your Login ID, and then your password.
				                            </p>
                              <p style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;margin-bottom:10px;font-weight:normal;'>
                                3.    Access your Inbox to view your message.
				                            </p>
                              <h4 style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;font-weight:600;'>
                                Problems accessing the message?
				                        </h4>
                              <br style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                              <small style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                                If you are unable to open the link, please make sure that your firewall or your company’s security settings are not blocking the link.
				                        </small>
                              <br style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                              <br style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                              <small style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                                You will be asked to confirm your identity through your cellphone.
				                        </small>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="footer" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;width:100%;clear:both;color:#999;padding:20px;'>
                <table width="100%" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                  <tbody style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                    <tr style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;'>
                      <td class="aligncenter content-block" style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;vertical-align:top;padding:0 0 20px;text-align:center;font-size:12px;'>© Boston Pediatric Dental Group All Right Reserved 2019</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </td>
          <td style='margin:0;padding:0;font-family:"Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;box-sizing:border-box;font-size:14px;vertical-align:top;'></td>
        </tr>
      </tbody>
    </table>
  </body>
</html>